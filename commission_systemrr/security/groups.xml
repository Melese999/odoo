<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">


        <!-- ========================================== -->
        <!-- 1. COMMISSION SYSTEM CATEGORY DEFINITION -->
        <!-- ==========================================-->
        <record id="commission_system.module_category_commission" model="ir.module.category">
            <field name="name">Commission System</field>
            <field name="sequence">30</field>
            <field name="visible">True</field>
            <field name="description">All commission-related permissions</field>
        </record>

        <!-- ================ -->
        <!-- 1. SECURITY GROUPS -->
        <!-- ================ -->

        <!-- Admin Group -->
        <record id="group_commission_admin" model="res.groups">
            <field name="name">Administrator</field>
            <field name="category_id" ref="commission_system.module_category_commission"/>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <!-- Sales Team Groups -->
        <record id="group_commission_salesperson" model="res.groups">
            <field name="name">Salesperson</field>
            <field name="category_id" ref="commission_system.module_category_commission"/>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <record id="group_commission_sales_manager" model="res.groups">
            <field name="name">Sales Manager</field>
            <field name="category_id" ref="commission_system.module_category_commission"/>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <!-- Finance Team Groups -->
        <record id="group_commission_finance_team" model="res.groups">
            <field name="name">Finance Team</field>
            <field name="category_id" ref="commission_system.module_category_commission"/>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <record id="group_commission_finance_manager" model="res.groups">
            <field name="name">Finance Manager</field>
            <field name="category_id" ref="commission_system.module_category_commission"/>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <!-- ================ -->
        <!-- 2. MODEL REGISTRATION -->
        <!-- ================ -->

        <!-- Add Commission Bill Summary Model -->
        <record id="model_commission_system_bill_summary" model="ir.model">
            <field name="name">Commission Bill Summary</field>
            <field name="model">commission_system.bill.summary</field>
        </record>

        <record id="model_commission_system_bill" model="ir.model">
            <field name="name">Commission Bill</field>
            <field name="model">commission_system.bill</field>
        </record>

        <record id="model_commission_system_worksheet" model="ir.model">
            <field name="name">Commission Worksheet</field>
            <field name="model">commission_system.worksheet</field>
        </record>

        <record id="model_commission_system_records" model="ir.model">
            <field name="name">Commission Records</field>
            <field name="model">commission_system.records</field>
        </record>

        <record id="model_commission_system_line" model="ir.model">
            <field name="name">Commission Line</field>
            <field name="model">commission_system.line</field>
        </record>


        <record id="model_commission_system_rules" model="ir.model">
            <field name="name">Commission Rules</field>
            <field name="model">commission_system.rules</field>
        </record>

        <record id="model_commission_system_assignment" model="ir.model">
            <field name="name">Commission Assignment</field>
            <field name="model">commission_system.assignment</field>
        </record>

        <record id="model_commission_system_report" model="ir.model">
            <field name="name">Commission Report</field>
            <field name="model">commission_system.report</field>
        </record>

        <record id="model_commission_system_tax_bracket" model="ir.model">
            <field name="name">Tax Bracket</field>
            <field name="model">commission_system.tax_bracket</field>
        </record>

        <record id="model_commission_system_user_activity_log" model="ir.model">
            <field name="name">User Activity Log</field>
            <field name="model">commission_system.user_activity_log</field>
        </record>

        <!-- ================ -->
        <!-- 3. ACCESS RIGHTS FOR BILL SUMMARY -->
        <!-- ================ -->

        <!-- Administrator Access for Bill Summary -->
        <record id="access_commission_admin_bill_summary" model="ir.model.access">
            <field name="name">Administrator Access for Bill Summary</field>
            <field name="model_id" ref="model_commission_system_bill_summary"/>
            <field name="group_id" ref="commission_system.group_commission_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

        <!-- Sales Manager Access for Bill Summary -->
        <record id="access_commission_sales_manager_bill_summary" model="ir.model.access">
            <field name="name">Sales Manager Access for Bill Summary</field>
            <field name="model_id" ref="model_commission_system_bill_summary"/>
            <field name="group_id" ref="commission_system.group_commission_sales_manager"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <!-- Salesperson Access for Bill Summary -->
        <record id="access_commission_salesperson_bill_summary" model="ir.model.access">
            <field name="name">Salesperson Access for Bill Summary</field>
            <field name="model_id" ref="model_commission_system_bill_summary"/>
            <field name="group_id" ref="commission_system.group_commission_salesperson"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <!-- Finance Manager Access for Bill Summary -->
        <record id="access_commission_finance_manager_bill_summary" model="ir.model.access">
            <field name="name">Finance Manager Access for Bill Summary</field>
            <field name="model_id" ref="model_commission_system_bill_summary"/>
            <field name="group_id" ref="commission_system.group_commission_finance_manager"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <!-- Finance Team Access for Bill Summary -->
        <record id="access_commission_finance_team_bill_summary" model="ir.model.access">
            <field name="name">Finance Team Access for Bill Summary</field>
            <field name="model_id" ref="model_commission_system_bill_summary"/>
            <field name="group_id" ref="commission_system.group_commission_finance_team"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <!-- ================ -->
        <!-- 4. RECORD RULES FOR BILL SUMMARY -->
        <!-- ================ -->

        <!-- Salesperson: Only See Summaries Related to Their Bills -->
        <record id="rule_commission_salesperson_bill_summary" model="ir.rule">
            <field name="name">Salesperson: Only See Summaries with Their Bills</field>
            <field name="model_id" ref="model_commission_system_bill_summary"/>
            <field name="domain_force">[('bill_ids.salesperson_id', '=', user.id)]</field>
            <field name="groups" eval="[(4, ref('commission_system.group_commission_salesperson'))]"/>
        </record>

        <!-- Sales Manager: See Summaries with Team Bills -->
        <record id="rule_commission_sales_manager_bill_summary" model="ir.rule">
            <field name="name">Sales Manager: See Summaries with Team Bills</field>
            <field name="model_id" ref="model_commission_system_bill_summary"/>
            <field name="domain_force">['|', ('bill_ids.salesperson_id', '=', user.id),
                ('bill_ids.salesperson_id.parent_id', '=', user.id)]
            </field>
            <field name="groups" eval="[(4, ref('commission_system.group_commission_sales_manager'))]"/>
        </record>

        <!-- Finance Team: See All Bill Summaries -->
        <record id="rule_commission_finance_team_bill_summary" model="ir.rule">
            <field name="name">Finance Team: See All Bill Summaries</field>
            <field name="model_id" ref="model_commission_system_bill_summary"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('commission_system.group_commission_finance_team'))]"/>
        </record>

        <!-- Finance Manager: See All Bill Summaries -->
        <record id="rule_commission_finance_manager_bill_summary" model="ir.rule">
            <field name="name">Finance Manager: See All Bill Summaries</field>
            <field name="model_id" ref="model_commission_system_bill_summary"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('commission_system.group_commission_finance_manager'))]"/>
        </record>

        <!-- ================ -->
        <!-- 3. ACCESS RIGHTS -->
        <!-- ================ -->

        <!-- Administrator Access -->
        <record id="access_commission_admin_bill" model="ir.model.access">
            <field name="name">Administrator Access for Bill</field>
            <field name="model_id" ref="model_commission_system_bill"/>
            <field name="group_id" ref="commission_system.group_commission_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

        <record id="access_commission_admin_worksheet" model="ir.model.access">
            <field name="name">Administrator Access for Worksheet</field>
            <field name="model_id" ref="model_commission_system_worksheet"/>
            <field name="group_id" ref="commission_system.group_commission_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

        <record id="access_commission_admin_records" model="ir.model.access">
            <field name="name">Administrator Access for Records</field>
            <field name="model_id" ref="model_commission_system_records"/>
            <field name="group_id" ref="commission_system.group_commission_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>
        <record id="access_commission_admin_line" model="ir.model.access">
            <field name="name">Administrator Access for line</field>
            <field name="model_id" ref="model_commission_system_line"/>
            <field name="group_id" ref="commission_system.group_commission_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

        <record id="access_commission_admin_rules" model="ir.model.access">
            <field name="name">Administrator Access for Rules</field>
            <field name="model_id" ref="model_commission_system_rules"/>
            <field name="group_id" ref="commission_system.group_commission_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

        <record id="access_commission_admin_assignment" model="ir.model.access">
            <field name="name">Administrator Access for Assignment</field>
            <field name="model_id" ref="model_commission_system_assignment"/>
            <field name="group_id" ref="commission_system.group_commission_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

        <record id="access_commission_admin_user_activity_log" model="ir.model.access">
            <field name="name">Administrator Access for User Activity Log</field>
            <field name="model_id" ref="model_commission_system_user_activity_log"/>
            <field name="group_id" ref="commission_system.group_commission_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

        <record id="access_commission_admin_tax_bracket" model="ir.model.access">
            <field name="name">Administrator Access for Tax Bracket</field>
            <field name="model_id" ref="model_commission_system_tax_bracket"/>
            <field name="group_id" ref="commission_system.group_commission_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

        <record id="access_commission_admin_report" model="ir.model.access">
            <field name="name">Administrator Access for Report</field>
            <field name="model_id" ref="model_commission_system_report"/>
            <field name="group_id" ref="commission_system.group_commission_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>


        <!-- Sales Manager Access -->
        <record id="access_commission_sales_manager_bill" model="ir.model.access">
            <field name="name">Sales Manager Access for Bill</field>
            <field name="model_id" ref="model_commission_system_bill"/>
            <field name="group_id" ref="commission_system.group_commission_sales_manager"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>


        <record id="access_commission_sales_manager_worksheet" model="ir.model.access">
            <field name="name">Sales Manager Access for Worksheet</field>
            <field name="model_id" ref="model_commission_system_worksheet"/>
            <field name="group_id" ref="commission_system.group_commission_sales_manager"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

        <record id="access_commission_sales_manager_records" model="ir.model.access">
            <field name="name">Sales Manager Access for Records</field>
            <field name="model_id" ref="model_commission_system_records"/>
            <field name="group_id" ref="commission_system.group_commission_sales_manager"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="False"/>
        </record>
        <record id="access_commission_sales_manager_line" model="ir.model.access">
            <field name="name">Sales Manager Access for line</field>
            <field name="model_id" ref="model_commission_system_line"/>
            <field name="group_id" ref="commission_system.group_commission_sales_manager"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="False"/>
        </record>
        <record id="access_commission_sales_manager_rules" model="ir.model.access">
            <field name="name">Sales Manager Access for Rules</field>
            <field name="model_id" ref="model_commission_system_rules"/>
            <field name="group_id" ref="commission_system.group_commission_sales_manager"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_sales_manager_assignment" model="ir.model.access">
            <field name="name">Sales Manager Access for Assignment</field>
            <field name="model_id" ref="model_commission_system_assignment"/>
            <field name="group_id" ref="commission_system.group_commission_sales_manager"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_sales_manager_report" model="ir.model.access">
            <field name="name">Sales Manager Access for Report</field>
            <field name="model_id" ref="model_commission_system_report"/>
            <field name="group_id" ref="commission_system.group_commission_sales_manager"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="False"/>
        </record>
        -->

        <!-- Access Rights for Salesperson -->
        <record id="access_commission_salesperson_bill" model="ir.model.access">
            <field name="name">Salesperson Access for Bill</field>
            <field name="model_id" ref="model_commission_system_bill"/>
            <field name="group_id" ref="commission_system.group_commission_salesperson"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_salesperson_worksheet" model="ir.model.access">
            <field name="name">Salesperson Access for Worksheet</field>
            <field name="model_id" ref="model_commission_system_worksheet"/>
            <field name="group_id" ref="commission_system.group_commission_salesperson"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_salesperson_records" model="ir.model.access">
            <field name="name">Salesperson Access for Records</field>
            <field name="model_id" ref="model_commission_system_records"/>
            <field name="group_id" ref="commission_system.group_commission_salesperson"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_salesperson_line" model="ir.model.access">
            <field name="name">Salesperson Access for line</field>
            <field name="model_id" ref="model_commission_system_line"/>
            <field name="group_id" ref="commission_system.group_commission_salesperson"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_salesperson_rules" model="ir.model.access">
            <field name="name">Salesperson Access for Rules</field>
            <field name="model_id" ref="model_commission_system_rules"/>
            <field name="group_id" ref="commission_system.group_commission_salesperson"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_salesperson_assignment" model="ir.model.access">
            <field name="name">Salesperson Access for Assignment</field>
            <field name="model_id" ref="model_commission_system_assignment"/>
            <field name="group_id" ref="commission_system.group_commission_salesperson"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_salesperson_user_activity_log" model="ir.model.access">
            <field name="name">Salesperson Access for User Activity Log</field>
            <field name="model_id" ref="model_commission_system_user_activity_log"/>
            <field name="group_id" ref="commission_system.group_commission_salesperson"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <!-- Finance Manager Access -->
        <record id="access_commission_finance_manager_bill" model="ir.model.access">
            <field name="name">Finance Manager Access for Bill</field>
            <field name="model_id" ref="model_commission_system_bill"/>
            <field name="group_id" ref="commission_system.group_commission_finance_manager"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

        <record id="access_commission_finance_manager_worksheet" model="ir.model.access">
            <field name="name">Finance Manager Access for Worksheet</field>
            <field name="model_id" ref="model_commission_system_worksheet"/>
            <field name="group_id" ref="commission_system.group_commission_finance_manager"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_finance_manager_records" model="ir.model.access">
            <field name="name">Finance Manager Access for Records</field>
            <field name="model_id" ref="model_commission_system_records"/>
            <field name="group_id" ref="commission_system.group_commission_finance_manager"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_finance_manager_line" model="ir.model.access">
            <field name="name">Finance Manager Access for line</field>
            <field name="model_id" ref="model_commission_system_line"/>
            <field name="group_id" ref="commission_system.group_commission_finance_manager"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_finance_manager_rules" model="ir.model.access">
            <field name="name">Finance Manager Access for Rules</field>
            <field name="model_id" ref="model_commission_system_rules"/>
            <field name="group_id" ref="commission_system.group_commission_finance_manager"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_finance_manager_assignment" model="ir.model.access">
            <field name="name">Finance Manager Access for Assignment</field>
            <field name="model_id" ref="model_commission_system_assignment"/>
            <field name="group_id" ref="commission_system.group_commission_finance_manager"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_finance_manager_tax_bracket" model="ir.model.access">
            <field name="name">Finance Manager Access for Tax Bracket</field>
            <field name="model_id" ref="model_commission_system_tax_bracket"/>
            <field name="group_id" ref="commission_system.group_commission_finance_manager"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_finance_manager_report" model="ir.model.access">
            <field name="name">Finance Manager Access for Report</field>
            <field name="model_id" ref="model_commission_system_report"/>
            <field name="group_id" ref="commission_system.group_commission_finance_manager"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_finance_manager_user_activity_log" model="ir.model.access">
            <field name="name">Finance Manager Access for User Activity Log</field>
            <field name="model_id" ref="model_commission_system_user_activity_log"/>
            <field name="group_id" ref="commission_system.group_commission_finance_manager"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <!-- Access Rights for Finance Team -->
        <record id="access_commission_finance_team_bill" model="ir.model.access">
            <field name="name">Finance Team Access for Bill</field>
            <field name="model_id" ref="model_commission_system_bill"/>
            <field name="group_id" ref="commission_system.group_commission_finance_team"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_finance_team_worksheet" model="ir.model.access">
            <field name="name">Finance Team Access for Worksheet</field>
            <field name="model_id" ref="model_commission_system_worksheet"/>
            <field name="group_id" ref="commission_system.group_commission_finance_team"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_finance_team_records" model="ir.model.access">
            <field name="name">Finance Team Access for Records</field>
            <field name="model_id" ref="model_commission_system_records"/>
            <field name="group_id" ref="commission_system.group_commission_finance_team"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_finance_team_line" model="ir.model.access">
            <field name="name">Finance Team Access for line</field>
            <field name="model_id" ref="model_commission_system_line"/>
            <field name="group_id" ref="commission_system.group_commission_finance_team"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_finance_team_rules" model="ir.model.access">
            <field name="name">Finance Team Access for Rules</field>
            <field name="model_id" ref="model_commission_system_rules"/>
            <field name="group_id" ref="commission_system.group_commission_finance_team"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_finance_team_assignment" model="ir.model.access">
            <field name="name">Finance Team Access for Assignment</field>
            <field name="model_id" ref="model_commission_system_assignment"/>
            <field name="group_id" ref="commission_system.group_commission_finance_team"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_finance_team_tax_bracket" model="ir.model.access">
            <field name="name">Finance Team Access for Tax Bracket</field>
            <field name="model_id" ref="model_commission_system_tax_bracket"/>
            <field name="group_id" ref="commission_system.group_commission_finance_team"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <record id="access_commission_finance_team_user_activity_log" model="ir.model.access">
            <field name="name">Finance Team Access for User Activity Log</field>
            <field name="model_id" ref="model_commission_system_user_activity_log"/>
            <field name="group_id" ref="commission_system.group_commission_finance_team"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <!-- ================ -->
        <!-- 4. RECORD RULES -->
        <!-- ================ -->

        <!-- Record Rules for Salesperson -->
        <record id="rule_commission_salesperson_bill" model="ir.rule">
            <field name="name">Salesperson: Only See Own Bills</field>
            <field name="model_id" ref="model_commission_system_bill"/>
            <field name="domain_force">[('salesperson_id', '=', user.id)]</field>
            <field name="groups" eval="[(4, ref('commission_system.group_commission_salesperson'))]"/>
        </record>

        <record id="rule_commission_salesperson_worksheet" model="ir.rule">
            <field name="name">Salesperson: Only See Own Worksheets</field>
            <field name="model_id" ref="model_commission_system_worksheet"/>
            <field name="domain_force">[('salesperson_id', '=', user.id)]</field>
            <field name="groups" eval="[(4, ref('commission_system.group_commission_salesperson'))]"/>
        </record>

        <record id="rule_commission_salesperson_records" model="ir.rule">
            <field name="name">Salesperson: Only See Own Records</field>
            <field name="model_id" ref="model_commission_system_records"/>
            <field name="domain_force">[('salesperson_id', '=', user.id)]</field>
            <field name="groups" eval="[(4, ref('commission_system.group_commission_salesperson'))]"/>
        </record>

        <!-- Record Rules for Sales Manager -->
        <record id="rule_commission_sales_manager_bill" model="ir.rule">
            <field name="name">Sales Manager: See Team Bills</field>
            <field name="model_id" ref="model_commission_system_bill"/>
            <field name="domain_force">['|', ('salesperson_id', '=', user.id), ('salesperson_id.parent_id', '=',
                user.id)]
            </field>
            <field name="groups" eval="[(4, ref('commission_system.group_commission_sales_manager'))]"/>
        </record>

        <record id="rule_commission_sales_manager_worksheet" model="ir.rule">
            <field name="name">Sales Manager: See Team Worksheets</field>
            <field name="model_id" ref="model_commission_system_worksheet"/>
            <field name="domain_force">['|', ('salesperson_id', '=', user.id), ('salesperson_id.parent_id', '=',
                user.id)]
            </field>
            <field name="groups" eval="[(4, ref('commission_system.group_commission_sales_manager'))]"/>
        </record>

        <record id="rule_commission_sales_manager_records" model="ir.rule">
            <field name="name">Sales Manager: See Team Records</field>
            <field name="model_id" ref="model_commission_system_records"/>
            <field name="domain_force">['|', ('salesperson_id', '=', user.id), ('salesperson_id.parent_id', '=',
                user.id)]
            </field>
            <field name="groups" eval="[(4, ref('commission_system.group_commission_sales_manager'))]"/>
        </record>

        <!-- Record Rules for Finance Team -->
        <record id="rule_commission_finance_team_bill" model="ir.rule">
            <field name="name">Finance Team: See All Bills</field>
            <field name="model_id" ref="model_commission_system_bill"/>
            <field name="domain_force">[(1, '=', 1)]</field> <!-- No restriction -->
            <field name="groups" eval="[(4, ref('commission_system.group_commission_finance_team'))]"/>
        </record>

        <record id="rule_commission_finance_team_records" model="ir.rule">
            <field name="name">Finance Team: See All Records</field>
            <field name="model_id" ref="model_commission_system_records"/>
            <field name="domain_force">[(1, '=', 1)]</field> <!-- No restriction -->
            <field name="groups" eval="[(4, ref('commission_system.group_commission_finance_team'))]"/>
        </record>

        <!-- Record Rules for Finance Manager -->
        <record id="rule_commission_finance_manager_bill" model="ir.rule">
            <field name="name">Finance Manager: See All Bills</field>
            <field name="model_id" ref="model_commission_system_bill"/>
            <field name="domain_force">[(1, '=', 1)]</field> <!-- No restriction -->
            <field name="groups" eval="[(4, ref('commission_system.group_commission_finance_manager'))]"/>
        </record>

        <record id="rule_commission_finance_manager_records" model="ir.rule">
            <field name="name">Finance Manager: See All Records</field>
            <field name="model_id" ref="model_commission_system_records"/>
            <field name="domain_force">[(1, '=', 1)]</field> <!-- No restriction -->
            <field name="groups" eval="[(4, ref('commission_system.group_commission_finance_manager'))]"/>
        </record>

        <record id="rule_commission_finance_manager_tax_bracket" model="ir.rule">
            <field name="name">Finance Manager: See All Tax Brackets</field>
            <field name="model_id" ref="model_commission_system_tax_bracket"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('commission_system.group_commission_finance_manager'))]"/>
        </record>

        <!-- State Based Commission Group-->
        <record id="group_commission_check" model="res.groups">
            <field name="name">Can Check Commission</field>
            <field name="category_id" ref="commission_system.module_category_commission"/>
        </record>

        <record id="group_commission_approve" model="res.groups">
            <field name="name">Can Approve Commission</field>
            <field name="category_id" ref="commission_system.module_category_commission"/>
        </record>

        <record id="group_commission_confirm" model="res.groups">
            <field name="name">Can Confirm Commission bills</field>
            <field name="category_id" ref="commission_system.module_category_commission"/>
        </record>

        <record id="group_commission_pay" model="res.groups">
            <field name="name">Can pay Commission bills</field>
            <field name="category_id" ref="commission_system.module_category_commission"/>
        </record>

        <record id="group_commission_audit" model="res.groups">
            <field name="name">Can Perform Financial Audit Check</field>
            <field name="category_id" ref="commission_system.module_category_commission"/>
        </record>

        <record id="group_show_sale_duplicate_button" model="res.groups">
            <field name="name">Activate Sale Order Line Copy Button</field>
            <field name="users" eval="[(4, ref('base.user_root')), (4, ref('base.user_admin'))]"/>
        </record>

        <record id="group_restricted_users" model="res.groups">
            <field name="name">Restricted Quotation Confirm</field>
            <field name="category_id" ref="commission_system.module_category_commission"/>
        </record>
        <record id="group_sales_location_manager" model="res.groups">
            <field name="name">Sales Location Manager</field>
        </record>


        <record id="group_mrp_location_restricted_user" model="res.groups">
            <field name="name">Manufacturing - Location Based View</field>
            <field name="category_id" ref="base.module_category_manufacturing"/>
            <field name="comment">Restricts Manufacturing Orders visibility based on userâ€™s assigned production location.</field>
        </record>


        <record id="mrp_production_by_user_location" model="ir.rule">
            <field name="name">Manufacturing Orders by Production Location</field>
            <field name="model_id" ref="mrp.model_mrp_production"/>
            <field name="domain_force">
                ['|', ('location_id', '=', False), ('location_id', '=', user.production_location_id.id)]
            </field>
            <field name="groups" eval="[(4, ref('commission_system.group_mrp_location_restricted_user'))]"/>
        </record>
    </data>
</odoo>

